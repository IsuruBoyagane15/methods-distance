#* @vtlvariable name="javaSource" type="java.lang.String" *#
#* @vtlvariable name="css" type="java.lang.String" *#
#* @vtlvariable name="javaScript" type="java.lang.String" *#
#* @vtlvariable name="info" type="org.pirat9600q.graph.DependencyInfo" *#
<!DOCTYPE html>
<html>
    <head>
        <script src="http://code.jquery.com/jquery-2.2.0.min.js"></script>
        <script>
            $javaScript
        </script>
        <style>
            $css
        </style>
    </head>
    <body>
        <table id="matrixTable" class="centered">
            <thead></thead>
            <tbody>
                <tr class="horizontal-heading">
                    <td></td>
                    #foreach($method in $info.methodsSortedByIndex)
                        <td class="highlightable" data-accessibility="$method.accessibility" data-static="$method.static">
                            <div class="rotated">
                                <span class="signature">
                                    $method.signature
                                </span>
                            </div>
                        </td>
                    #end
                </tr>
                    #foreach($caller in $info.methodsSortedByIndex)
                        <tr>
                            <td class="highlightable" data-accessibility="$caller.accessibility" data-static="$caller.static">
                                <span class="horizontal-content" data-overloaded="$caller.overloaded">
                                    <span class="horizontal-content" data-override="$caller.override">
                                        <span class="signature">
                                            $caller.signature
                                        </span>
                                    </span>
                                </span>
                            </td>
                            #foreach($callee in $info.methodsSortedByIndex)
                                #if($callee.index == $caller.index)
                                    <td class="highlightable cell diagonal">-</td>
                                #elseif($info.isMethodDependsOn($caller, $callee))
                                    <td class="highlightable cell depends-on">$caller.getDistanceTo($callee)</td>
                                #else
                                    <td class="highlightable cell"></td>
                                #end
                            #end
                        </tr>
                    #end
            </tbody>
        </table>
        <div class="centered">
            In the matrix above, methods situated in the order they appear
            in class definition(first method occupies first row and first column,
            second method occupies second row and second column an so on). Text color
            indicates accessibility of methods in the following way:
            <ul style="background-color: lightgray">
                <li>public - <span style="color: green;">GREEN</span></li>
                <li>protected - <span style="color: yellow;">YELLOW</span></li>
                <li>private - <span>BLACK</span></li>
                <li>default - <span style="color: blue;">BLUE</span></li>
            </ul>
            <p>
                <span style="background-color: lightgrey;">Grey</span> background color indicates that method is static.
            </p>
            <p>
                <span style="background-color: orange;">Orange</span> strip indicates that method overrides some method.
            </p>
            <p>
                <span style="background-color: purple;">Purple</span> strip indicates that method is overloaded.
            </p>
        </div>
        <p>
            If some method depends on another method(by calling it), then matrix
            cell situated at intersection of caller`s row and callee`s column is displayed
            in red and number in this cell indicates distance between methods.
            Diagonal cells are always displayed in grey.
        </p>
        <h4>Source file</h4>
        <!-- Library -->
        <link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
        <script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
        <script src="http://alexgorbatchev.com/pub/sh/current/scripts/shAutoloader.js" type="text/javascript"></script>
        <script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJava.js"></script>
        <!-- Source code -->
        <script type="syntaxhighlighter" class="brush: java"><![CDATA[$javaSource]]></script>
        <script type="text/javascript">
            SyntaxHighlighter.all()
        </script>
    </body>
</html>
